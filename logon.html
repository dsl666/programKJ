<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>注册成为会员</title>
	<link rel="stylesheet" href="css/iconfont.css">
	<link rel="stylesheet" href="css/logon.css">

</head>
<body>

	<!-- header -->
	<div class="header">
		<div class="headerTop">
			<div class="leftHeader">
				<a href="#">康佳新闻</a><span>|</span>
				<a href="#">加入康佳</a><span>|</span>
				<a href="#">校园招聘</a><span>|</span>
				<a href="#">康佳社区</a><span>|</span>
				<a href="#">大宗采购</a><span>|</span>
				<a href="#">积分商城</a><span>|</span>
			</div>
			<div class="rightHeader">
				<a href="#">登录</a><span>|</span>
				<a href="#">注册</a>
				<a href="#"><img src="img/top-header-cart.png" alt="" class="car">购物车</a>				
			</div>			
		</div>
	</div>
	
	<!-- nav -->
	<div class="nav">
		<div class="navA">
			<div class="logo"><img src="img/logo.png" alt=""></div>
			<div class="navAs">
				<a href="#" >首页</a>
				<a href="#" >电视</a>
				<a href="#" >冰箱</a>
				<a href="#" >洗衣机</a>
				<a href="#" >生活电器</a>
				<a href="#" >智能硬件</a>
				<a href="#" >智能终端</a>
				<a href="#" >K迷优品</a>
				<a href="#" >大众采购</a>
				<a href="#" >服务</a>
				<a href="#" ><img src="img/header-scrae.png" alt=""></a>
			</div>
			<!-- nav下的tab切换 -->
			<div id="navTabBox">
				<ul class="navTab" style="display:none;"></ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>E75U 75寸超薄</h4><p>金属人工智能</p><span>￥1111.00</span></li>					
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>冰箱</h4><p>金属人工智能</p><span>￥1111.00</span></li>					
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>洗衣机</h4><p>金属人工智能</p><span>￥1111.00</span></li>					
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>生活电器</h4><p>金属人工智能</p><span>￥1111.00</span></li>					
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能硬件</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能硬件</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能硬件</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能硬件</h4><p>金属人工智能</p><span>￥5999.00</span></li>
					<li></li>	
					<li></li>				
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能终端</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能终端</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能终端</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能终端</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>智能终端</h4><p>金属人工智能</p><span>￥5999.00</span></li>
					<li></li>								
				</ul>
				<ul class="navTab" style="display:none;">
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥5999.00</span></li>	
					<li><a href="#"><img src="img/navTab.png" alt=""></a><h4>K迷优品</h4><p>金属人工智能</p><span>￥1111.00</span></li>					
				</ul>
				<ul class="navTab" style="display:none;"></ul>
				<ul class="navTab" style="display:none;"></ul>
				<ul class="navTab" style="display:none;"></ul>
			</div>
		</div>
	</div>

	<!-- banner -->
	<div class="banner">
		<div class="bannerCon">
			<div class="logon">
				<div class="logonTitle">
					<p>注册成为会员</p>
					<a href="#">立即登录»</a>
				</div>
				
					<div class="txt">
						<span class="spana">登录账号</span>
						<input type="text" placeholder="手机号/邮箱/用户名" class="txt1" title="请填写此字段" id="username"><span></span>
					</div>
					<div class="txt">
						<span class="spana">登录密码</span>
						<input type="password" placeholder="登录密码" class="txt1" title="请填写此字段" id="userpass"><span></span>
					</div>
					<div class="txt">
						<span class="spana">确认密码</span>
						<input type="password" placeholder="再次输入登录密码" class="password" title="请填写此字段" id="checkpass"><span></span>
					</div>
					<div class="txt">
						<span class="spana">验证码</span>
						<input type="text" placeholder="验证码" class="yanzheng" title="请填写此字段" id="yzValue">
						<span id="yzm"></span>
						<input type="button" value="更换验证码" id="ghyzm" class="ghyzm"><span id="xianshi"></span>
					</div>
					<div class="txt">
						<input type="checkbox" class="checkboxs">同意
						<a href="#" class="hytk">《会员条款》</a>
					</div>
					<div class="logonss">
						<input type="button" value="提交" class="logonss1" onclick="regSave()">
					</div>
					<span id="msg"></span>
		
				
			</div>
		</div>
	</div>
	 


	
	

	<!-- foot -->
	<div class="foot">
		<div class="footOne">
			<p>全场包邮<span>全场商品免费送到家</span></p>
			<p>全场包邮<span>全场商品免费送到家</span></p>
			<p>全场包邮<span>全场商品免费送到家</span></p>
			<p>全场包邮<span>全场商品免费送到家</span></p>
			<p>全场包邮<span>全场商品免费送到家</span></p>
		</div>
		<div class="footTwo">
			<div class="footTwoLeft">
				<ul>
					<li><b>帮助中心</b></li>
					<li><a href="#">购买指南</a></li>
					<li><a href="#">支付方式</a></li>
					<li><a href="#">配送方式</a></li>
					<li><a href="#">售后政策</a></li>
					<li><a href="#">防伪指南</a></li>
				</ul>
				<ul>
					<li><b>新闻中心</b></li>
					<li><a href="#">集团新闻</a></li>
					<li><a href="#">媒体报道</a></li>
					
				</ul>
				<ul>
					<li><b>投资者关系</b></li>
					<li><a href="#">公司概要</a></li>
					<li><a href="#">高管团队</a></li>
					<li><a href="#">最新公告</a></li>
					<li><a href="#">公司治理</a></li>
				</ul>
				<ul>
					<li><b>集团成员网站</b></li>
					<li><a href="#">华侨城集团</a></li>
					<li><a href="#">康佳全球服务中心</a></li>
					<li><a href="#">康佳国际营销</a></li>
					<li><a href="#">康佳移动互联科技</a></li>
					<li><a href="#">康佳壹视界商业显示</a></li>
					<li><a href="#">康佳智能电器</a></li>
				</ul>
				<ul>
					<li><b>关于我们</b></li>
					<li><a href="#">了解康佳</a></li>
					<li><a href="#">加入康佳</a></li>
					<li><a href="#">校园招聘</a></li>
					<li><a href="#">联系我们</a></li>
				</ul>
				<ul>
					<li><b>关注我们</b></li>
					<li><a href="#">官方微博</a></li>
					<li><a href="#">官方微信</a></li>
					<li><a href="#">官方社区</a></li>
					<li><a href="#">K迷俱乐部</a></li>
					<li><a href="#">康佳微商城</a></li>
					<li><a href="#">康佳服务</a></li>
					<li><a href="#">腾讯视屏TV端</a></li>
				</ul>
			</div>
			<div class="footTwoRight">
				<p>24小时全国服务热线</p>
				<p>400-880-0016</p>
				<p><a href="#">购买咨询</a><a href="#">售后服务</a></p>
			</div>
		</div>
	</div>

	<!-- 版权所有last -->
	<div class="last">
		<div class="lastLeft"><img src="img/logo.png" alt=""></div>
		<div class="lastRight">
			<p>Copyright © 1980-2019 康佳集团股份有限公司 版权所有</p>
			<a href="#">联系我们</a>
			<a href="#">法律声明</a>
			<a href="#">隐私保护</a>
			<a href="#">快递查询</a>
			<a href="#">腾讯视屏TV端</a>
			<a href="#">粤ICP备 05059413</a>
		</div>
	</div>

	<!-- theme -->
	<div class="theme">
		<img src="img/cert3.png" alt="">
		<img src="img/cert2.png" alt="">
		<img src="img/cert.gif" alt="">
	</div>

	<!-- 右侧小精灵图 -->
	<div class="demon">
		<a href="#">
			<span class="iconfont icon-service" ></span>
			<span class="spans" style="display: none;">购买咨询</span>
		</a>
		<a href="#">
			<span class="iconfont icon-tool"></span>
			<span class="spans" style="display: none;">售后服务</span>
		</a>
		<a href="#">
			<span class="iconfont icon-shoppingCar"></span> 
			<span class="spans" style="display: none;">购物车</span>
		</a>
		<a href="#">
			<span class="iconfont icon-plane"></span>
			<span class="spans" style="display: none;">回到顶部</span>
		</a>
	</div>
</body>
</html>
<script type="text/javascript" src="js/login.js"></script>
<script type="text/javascript" src="js/regTools.js"></script>
<script type="text/javascript">
	//一、鼠标离开时，前端验证
	var arr = ["username","userpass"];
	var errs = ["用户名错误","密码错误"];

$("#username").onblur = function(){
	//一 1、先做用户名前端验证
	if(!check(this.value,arr[0])){
		this.nextElementSibling.innerHTML = "×";
		return;
	}

	//一 2后端验证
	//创建对象
		var xhr=new XMLHttpRequest();
		//设置请求参数
		var sendstr="username="+this.value;
		xhr.open("get","checkusername.php?"+sendstr,true);
		//设置回调函数
		xhr.onreadystatechange=()=>{
			if(xhr.readyState==4 && xhr.status==200){
				if(xhr.responseText==1){
					this.nextElementSibling.innerHTML="该用户名已注册";
					this.nextElementSibling.style.color="red";
				}else{
					this.nextElementSibling.innerHTML="√";
					this.nextElementSibling.style.color="green";
				}
			}
		}

		//发送请求
		xhr.send();
}
//二 鼠标离开 每一项验证
		let inputs = $(".txt1");
		console.log(inputs)
	for(let i=1;i<inputs.length;i++){
		inputs[i].onblur = function(){
			if(check(this.value,arr[i])){
				this.nextElementSibling.innerHTML = "√";			
			}else{
				this.nextElementSibling.innerHTML = "×";
				// $("#title").innerHTML = errs[i];
			}
		}
	}

//密码是否一致的验证
	function checkpass(){
	return $("#checkpass").value==$("#userpass").value;
}

	//重复密码的验证
	$("#checkpass").onblur = function(){
		if(!checkpass()){
			this.nextElementSibling.innerHTML = "×";
		}else{
			this.nextElementSibling.innerHTML = "√";
		}
	}

	//三验证码
	var yzm=$("#yzm");
	var yzmKeep="";//保存每张图片上的数字
	var index="";// 获取的随机数
	function getyzm(){
		yzm.innerHTML="";
		yzmKeep="";
		for(var i=0;i<4;i++){
			index=parseInt((Math.random()*9));
			yzm.innerHTML+="<img src=imgYzm/"+index+".png>";
			yzmKeep+=index;

		}
	}

	window.onload=function(){
		getyzm();
	}
	ghyzm.onclick=function(){
		$("#xianshi").innerHTML="";
		getyzm();
	}
	//三 2 判断验证码
	var t6=false;
	$("#yzValue").onblur=function(){
		var str6=$("#yzValue").value;
		if(str6!=yzmKeep){
			$("#xianshi").innerHTML="×";
			$("#yzValue").value="";

			getyzm();
			return;
		}else{
			t6=true;
			$("#xianshi").innerHTML="√";
		}
	}

//	四 发送数据给数据库
function regSave(){
	//1、创建对象
	let xhr = new XMLHttpRequest();

	//2、设置请求参数
	xhr.open("post","regSave03.php",true);

	//3、设置回调函数 
	xhr.onreadystatechange = function(){
		if(xhr.readyState==4 && xhr.status==200){
			if(xhr.responseText==1){
				$("#msg").innerHTML = "亲，恭喜您，注册成功！跳转到登录页面";
			}else{
				$("#msg").innerHTML = "亲，不好意思，注册失败！请重新输入内容";
			}
		}
	}

	//4、发送请求
	//post请求，与get请求有两个地方不同：
	//1)、设置请求头
	xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	//2)、把发送的数据作为send函数的参数
	
	let sendstr =`username=${$("#username").value}&userpass=${$("#userpass").value}`;
	xhr.send(sendstr);
}






function $(str){
	if(str.charAt(0)=="#"){
		return document.getElementById(str.substring(1));
	}else if(str.charAt(0)=="."){
		return document.getElementsByClassName(str.substring(1));
	}else{
		return document.getElementsByTagName(str);
	}
}	
</script>

